import{d as H,u as L,t as P,r as s,g as R,c as v,w as f,a as k,o as D,b as C,v as W,e as m,f as y,h as N,m as V,i as F,n as O,F as X,j as Y,k as q}from"./vue-TiD8d85p.js";(function(){try{if(typeof document<"u"){var r=document.createElement("style");r.appendChild(document.createTextNode('@keyframes rotate-53d63c0a{0%{transform:rotate(0)}to{transform:rotate(360deg)}}div.error[data-v-53d63c0a]{display:flex;align-items:center;justify-content:center;min-height:200px;border:1px solid #eee;background-color:#f9f9f9;border-radius:10px}figure.image-zoom[data-v-53d63c0a]{position:relative;min-height:25vh;background-position:50% 50%;background-color:#eee;margin:0;overflow:hidden;-webkit-user-select:none;user-select:none;cursor:zoom-in}figure.image-zoom.loaded[data-v-53d63c0a]{min-height:auto}figure.image-zoom.zoomed[data-v-53d63c0a]{cursor:zoom-out}figure.image-zoom[data-v-53d63c0a]:before{content:"";background-color:transparent;position:absolute;top:0;left:0;right:0;width:100%;height:100%;opacity:1;transition:opacity .2s ease-in-out;z-index:1}figure.image-zoom[data-v-53d63c0a]:after{content:"";position:absolute;top:calc(50% - 25px);left:calc(50% - 25px);width:50px;height:50px;border-radius:50%;border:5px solid transparent;border-top-color:#333;border-right-color:#333;border-bottom-color:#333;opacity:1;animation:rotate-53d63c0a 2s linear infinite;transition:opacity .2s ease-in-out;z-index:2}figure.image-zoom.loaded[data-v-53d63c0a]:before,figure.image-zoom.loaded[data-v-53d63c0a]:after{opacity:0}figure.image-zoom img[data-v-53d63c0a]{opacity:1;display:block;width:100%;height:auto}figure.image-zoom.zoomed img[data-v-53d63c0a]{opacity:0}')),document.head.appendChild(r)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();function A(r,t){const o=s({imgData:null,error:!1,naturalWidth:0,naturalHeight:0});let a=null;const i=()=>{a&&(o.value={imgData:a.src,error:!1,naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight})},n=l=>{o.value={imgData:null,error:!0,naturalWidth:0,naturalHeight:0},t?.(l)},u=()=>{o.value={imgData:null,error:!1,naturalWidth:0,naturalHeight:0},a&&(a.removeEventListener("load",i),a.removeEventListener("error",n));const l=m(r);l&&(a=new Image,a.addEventListener("load",i),a.addEventListener("error",n),a.src=l)};return f(()=>[m(r)],()=>{u()},{immediate:!0}),o}function G(r,t,o,a){const i=s(0);let n;return Y(()=>{a?.value&&(n=new ResizeObserver(u=>{u[0]&&(i.value=u[0].contentRect.width)}),n.observe(a.value))}),q(()=>{n&&a?.value&&n.unobserve(a.value)}),v(()=>{if(!t||!o||!i.value)return`${r}`;const u=o.value/i.value*100;return`${u<100?r:u+"%"}`})}function J(r,t){const o=getComputedStyle(document.body).overflow||"auto",a=i=>{r.value&&i.touches.length===1&&i.preventDefault()};f([r],([i])=>{i?(document.body.style.overflow="hidden",t.value&&a(t.value)):document.body.style.overflow=o})}function K(r){return{getZoomPosition:t=>{if(!r?.value)return;const o=r.value.getBoundingClientRect();let a,i;if((n=>"touches"in n)(t)){const n=t.touches[0];a=(n.clientX-o.x)/o.width*100,i=(n.clientY-o.y)/o.height*100}else a=(t.clientX-o.x)/o.width*100,i=(t.clientY-o.y)/o.height*100;return`${Math.max(0,Math.min(a,100))}% ${Math.max(0,Math.min(i,100))}%`}}}const Q=["id","aria-label"],U=["src","alt"],ee=H({__name:"image-zooom",props:{zoom:{default:"200"},fullWidth:{type:Boolean,default:!1},alt:{default:"This is an imageZoom image"},width:{default:"100%"},height:{default:"auto"},src:{},id:{default:void 0},onErrorCallback:{},errorMessage:{default:"There was a problem loading your image"}},setup(r){const t=r,o=L(),a=P(t,"src"),i=R(),n=s(i?.uid),u=s(!1),l=s(!1),g=s("50% 50%"),p=s(null),h=s(null),d=A(a,t.onErrorCallback),$=v(()=>d.value.naturalWidth||0),E=G(t.zoom,t.fullWidth,$,p);J(l,h);const{getZoomPosition:M}=K(p);f(d,e=>{u.value=e.imgData!==null});const b=e=>{if(l.value){const c=M(e);c&&(g.value=c)}},z=e=>{h.value=e instanceof TouchEvent?e:null,l.value=!l.value,b(e)},T=e=>{z(e)},_=e=>{e.touches.length===1&&z(e)},I=e=>{b(e)},w=()=>{h.value=null,l.value=!1,g.value="50% 50%"},S=e=>{b(e)},Z=()=>{h.value=null,l.value=!1,g.value="50% 50%"};f(d,e=>{u.value=e.imgData!==null,!e.imgData&&!e.error&&(l.value=!1,g.value="50% 50%")});const x=(e,c)=>typeof e=="number"?`${e}px`:typeof e=="string"&&e.trim().length>0?e:c,j=v(()=>{const e=x(t.width,"100%"),c=x(t.height,"auto");return{width:e,height:c,backgroundImage:d.value.imgData?`url(${d.value.imgData})`:"",backgroundSize:E.value,backgroundPosition:g.value,cursor:l.value?"zoom-out":"zoom-in"}}),B=v(()=>({width:t.fullWidth?"100%":typeof t.width=="string"?t.width:`${t.width}px`,height:typeof t.height=="string"?t.height:`${t.height}px`}));return(e,c)=>(D(),k(X,null,[C(y("figure",V({id:t.id||`image-zoom-${n.value}`,class:["image-zoom",{loaded:u.value,loading:!u.value,zoomed:l.value,fullView:!l.value}],ref_key:"figureRef",ref:p,role:"button","aria-label":"Zoomable image: "+e.alt,tabIndex:"0",style:j.value,onClick:T,onMousemove:S,onMouseleave:Z,onTouchstart:_,onTouchmove:I,onTouchend:w,onTouchcancel:w},m(o)),[m(d).imgData?(D(),k("img",{key:0,loading:"lazy",id:"imageZoom",src:m(d).imgData,alt:e.alt},null,8,U)):N("",!0)],16,Q),[[W,!m(d).error]]),C(y("div",{class:"error",style:O(B.value)},[y("p",null,F(e.errorMessage),1)],4),[[W,m(d).error]])],64))}}),te=(r,t)=>{const o=r.__vccOpts||r;for(const[a,i]of t)o[a]=i;return o},oe=te(ee,[["__scopeId","data-v-53d63c0a"]]);export{oe as o};
